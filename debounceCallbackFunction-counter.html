<html>
    <body>
        
        <h1 id="d1"></h1>
        <button onclick="increment()">Increment</button>
        <script>

            var counter=0
            function debounceCall(cb,delay){
                let timer;
                let flag=false;
                return function () {
                    if(!flag){
                        console.log("inside if")
                        cb();
                        flag=true;
                        timer=null;
                    }
                    else{
                        console.log("inside else",timer)
                        if(!timer){
                            timer = setTimeout(() => {
                                console.log("inside timeout")
                                flag=false;
                                clearTimeout(timer)
                            }, delay)
                        }
                    }
                }
                // let timer=false;
                // return ()=>{
                //     console.log("called")
                //     if(timer){
                //         clearTimeout(timer)
                //     }
                //     else{
                //         timer = setTimeout(()=>{cb()},delay)
                //     }
                // }
            }
            function inc(){
                counter++;
                document.getElementById("d1").innerHTML=counter;
            }
            document.getElementById("d1").innerHTML=counter;
            var increment=debounceCall(inc,2000);
            
        </script>
    </body>
</html>